{"openapi":"3.0.0","info":{"title":"API Documentation Aplikasi Perpustakaan","version":"1.0.0","description":"API Perpustakaan yang dibuat menggunakan adonisjs"},"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer"}},"schemas":{"User":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"role":{"type":"string"},"isVerified":{"type":"boolean"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"}}},"InputOtpConfirmation":{"type":"object","properties":{"email":{"type":"string"},"otp":{"type":"number"}},"required":["email","otp"]},"InputLogin":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]},"InputOtpResend":{"type":"object","properties":{"email":{"type":"string"}},"required":["email"]},"InputRegister":{"type":"object","properties":{"nama":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"password_confirmation":{"type":"string"}},"required":["nama","email","password","password_confirmation"]}}},"paths":{"/api/v1/auth/register/user":{"post":{"tags":["Auth"],"summary":"Buat akun baru dengan role user","description":"Register akun baru dengan Role User","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"description":"User payload","schema":{"$ref":"#/components/schemas/InputRegister"}}}},"produces":["application/json"],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"data":{"type":"object","properties":{"nama":{"type":"string"},"email":{"type":"string"},"role":{"type":"string"}}}}}}}}}}},"/api/v1/auth/register/petugas":{"post":{"tags":["Auth"],"summary":"Buat akun baru dengan role petugas","description":"Register akun baru dengan Role petugas","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"description":"User payload","schema":{"$ref":"#/components/schemas/InputRegister"}}}},"produces":["application/json"],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"data":{"type":"object","properties":{"nama":{"type":"string"},"email":{"type":"string"},"role":{"type":"string"}}}}}}}}}}},"/api/v1/auth/login":{"post":{"tags":["Auth"],"summary":"Login dengan email yang terdaftar dan terverifikasi","description":"Login mengguakan email yang sebelumnya sudah register dan sudah melakukan otp confirmation","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"description":"User payload","schema":{"$ref":"#/components/schemas/InputLogin"}}}},"produces":["application/json"],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"stringg"},"data":{"type":"object","properties":{"type":{"type":"string"},"token":{"type":"string"},"expires_at":{"type":"string"}}}}}}}}}}},"/api/v1/auth/logout":{"get":{"security":["bearerAuth:[]"],"tags":["Auth"],"summary":"Logout","description":"logout menghapus akses user menggunakan token, sehingga token tidak lagi bisa digunakan untuk authorization","responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/api/v1/auth/otp-confirmation":{"post":{"tags":["Auth"],"summary":"Verifikasi user baru","description":"verifikasi user yang sudah register dengan OTP yang dikirim ke email","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"description":"User payload","schema":{"$ref":"#/components/schemas/InputOtpConfirmation"}}}},"produces":["application/json"],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/api/v1/auth/otp-resend":{"post":{"tags":["Auth"],"summary":"Kirim ulang OTP","description":"Kirim ulang OTP ke email yang sudah register namun belum verifikasi","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"description":"User payload","schema":{"$ref":"#/components/schemas/InputOtpResend"}}}},"produces":["application/json"],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}}}}},"tags":[]}